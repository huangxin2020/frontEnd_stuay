# 对重排和重绘的理解

重排 - 回流

## 在面试中遇到对于重排与重绘问题的时候的思路
> 1. 首先说出什么是重排与重绘
  2. 突出它们耗性能
  3. 突出自己在写项目的时候重点注意了这些问题，以及自己的解决方案 (说明解决原理)

回答参考： 浏览器在渲染一个页面的时候是先按照 "先创建一个DOM树 -> 再加载CSS -> 生成渲染树 REBDER TREE -> 把渲染树交给浏览器(GPU)进行绘制"，如果我们在后期修改了元素样式(但是没有改变元素的位置与大小)，浏览器会重新按照修改的样式生成新的渲染树，然后重新渲染，这个机制就是重绘。但是如果我们修改了元素的大小或者位置，浏览器就会从DOM树重新计算渲染，这个机制就是回流(重排)，不论是重排还是回流都会非常的消耗性能

在我之前的项目中，我特意重视了这个问题，尽量减少操作DOM引发的回流和重绘问题，常用的解决方案有：

1. 需要动态向页面追加元素的时候，基于文档碎片或者先把需要增加的所有元素拼接成字符串，最后统一进行增加

2. 读写分离：就是统一把修改样式的操作都放在一起执行，因为在新版的浏览器都有一个检测机制，如果发现下面紧挨着的操作也是修改样式的，会把所有修改样式的操作都有事先存起来，直到遇到一个非修改样式的操作，才会把之前存在的修改样式的操作统一执行，这样只会引发一次回流与重绘

当然还有一些其他的方法，这些是最常注意的，我认为减少DOM的重排和重绘是非常重要的性能优化手段之一
